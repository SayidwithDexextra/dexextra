{
  "_format": "hh-sol-artifact-1",
  "contractName": "SimpleVault",
  "sourceName": "contracts/SimpleVault.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_collateralToken",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "CollateralDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "CollateralWithdrawn",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "MarginReleased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "MarginReserved",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "pnlDelta",
          "type": "int256"
        }
      ],
      "name": "PnLUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "collateralToken",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "depositCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getAvailableMargin",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getCollateralBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getMarginAccount",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "collateral",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "reservedMargin",
              "type": "uint256"
            },
            {
              "internalType": "int256",
              "name": "unrealizedPnL",
              "type": "int256"
            }
          ],
          "internalType": "struct SimpleVault.MarginAccount",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getReservedMargin",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getTotalMargin",
      "outputs": [
        {
          "internalType": "int256",
          "name": "",
          "type": "int256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "releaseMargin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "reserveMargin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_vamm",
          "type": "address"
        }
      ],
      "name": "setVamm",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "int256",
          "name": "pnlDelta",
          "type": "int256"
        }
      ],
      "name": "updatePnL",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "vamm",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "withdrawCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60803461007a57601f610b8938819003918201601f19168301916001600160401b0383118484101761007f5780849260209460405283398101031261007a57516001600160a01b0381169081900361007a5760018060a01b0319338160005416176000556002541617600255604051610af390816100968239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe6080604081815260048036101561001557600080fd5b600092833560e01c9081622bc164146107f2575080632703ee85146107ba578063350c35e9146106305780635d773174146105a6578063649c07631461056a5780637569f4c81461049e5780638da5cb5b146104765780639101e5b314610391578063a5d5db0c14610298578063b2016bd41461026f578063c1c7c9dd14610249578063c90ba3a614610201578063cb62568014610178578063e098372c1461014b5763f2fde38b146100c757600080fd5b34610147576020366003190112610147576100e0610875565b835491906001600160a01b03906100fa3383861614610890565b169283156101145750506001600160a01b03191617815580f35b906020606492519162461bcd60e51b8352820152600d60248201526c24b73b30b634b21037bbb732b960991b6044820152fd5b8280fd5b50503461017457816003193601126101745760015490516001600160a01b039091168152602090f35b5080fd5b5050346101745780600319360112610174577f22d38deb33ee15dd233167fc440609397a226eb4e1b61e1773bdd09ef99424aa60206101b5610875565b600154602435916001600160a01b03916101d29083163314610a86565b16936101df851515610994565b848652600383526002818720016101f78382546108c8565b905551908152a280f35b505034610174576020366003190112610174576020916102429082906001600160a01b0361022d610875565b168152600385522060028154910154906108c8565b9051908152f35b5050346101745760203660031901126101745760209061024261026a610875565b610907565b50503461017457816003193601126101745760025490516001600160a01b039091168152602090f35b50346101475781600319360112610147576102b1610875565b91836020602435936102c4851515610957565b6001600160a01b03958616956064906102de881515610994565b6002541691855194859384926323b872dd60e01b845233908401523060248401528860448401525af190811561038757916103457fd7243f6f8212d5188fd054141cf6ea89cfc0d91facb8c3afe2f88a13584801429492602094889161035a575b50610a3b565b848652600383528086206101f7838254610a79565b61037a9150853d8111610380575b6103728183610a01565b810190610a23565b3861033f565b503d610368565b82513d87823e3d90fd5b5090346101475780600319360112610147576103ab610875565b60015460243592916001600160a01b03916103c99083163314610a86565b6103d4841515610957565b16926103e1841515610994565b838552600360205282600183872001541061043457507f5e63d54af10545f0b2bd229512f244caefe863ad94dbbb7ad827432c84d762f591602091848652600383526001818720016101f78382546108fa565b6020606492519162461bcd60e51b8352820152601c60248201527f496e73756666696369656e74207265736572766564206d617267696e000000006044820152fd5b505034610174578160031936011261017457905490516001600160a01b039091168152602090f35b50346101475781600319360112610147576104b7610875565b9160243591826104ef60018060a01b036104d681600154163314610a86565b6104e1831515610957565b86169561026a871515610994565b1061053257507f7a9b1b90f35f094ffc6d04d86069c79e82c6a16eb600f79672428a409635deca91602091848652600383526001818720016101f7838254610a79565b6020606492519162461bcd60e51b8352820152601360248201527224b739bab33334b1b4b2b73a1036b0b933b4b760691b6044820152fd5b5050346101745760203660031901126101745760209160019082906001600160a01b03610595610875565b168152600385522001549051908152f35b5034610147576020366003190112610147576105c0610875565b83546001600160a01b0391906105d99083163314610890565b169182156105fe5750506bffffffffffffffffffffffff60a01b600154161760015580f35b906020606492519162461bcd60e51b8352820152600c60248201526b496e76616c69642076616d6d60a01b6044820152fd5b5034610147578160031936011261014757610649610875565b602435610657811515610957565b6001600160a01b03828116939061066f851515610994565b848752602093600385528387892054106107775761068d8491610907565b10610734578460448592828a5260038452888a206106ac8782546108fa565b90556002541693898951958694859363a9059cbb60e01b85528401528760248401525af190811561072a577fc30fcfbcaac9e0deffa719714eaa82396ff506a0d0d0eebe170830177288715d94959161070b9188916107135750610a3b565b51908152a280f35b61037a9150853d8711610380576103728183610a01565b85513d88823e3d90fd5b855162461bcd60e51b8152808301859052601d60248201527f496e73756666696369656e7420617661696c61626c65206d617267696e0000006044820152606490fd5b865162461bcd60e51b8152808401869052601760248201527f496e73756666696369656e7420636f6c6c61746572616c0000000000000000006044820152606490fd5b5050346101745760203660031901126101745760209181906001600160a01b036107e2610875565b1681526003845220549051908152f35b915050346101475760203660031901126101475782829160609483610815610875565b9261081f816109cf565b828152826020820152015260018060a01b03168152600360205220908051610846816109cf565b825492838252826002600183015492602085019384520154920191825282519384525160208401525190820152f35b600435906001600160a01b038216820361088b57565b600080fd5b1561089757565b60405162461bcd60e51b81526020600482015260096024820152682737ba1037bbb732b960b91b6044820152606490fd5b919091600083820193841291129080158216911516176108e457565b634e487b7160e01b600052601160045260246000fd5b919082039182116108e457565b6001600160a01b031660009081526003602052604090208054600282015461092e916108c8565b9060008213156109505760010154808211156109505761094d916108fa565b90565b5050600090565b1561095e57565b60405162461bcd60e51b815260206004820152600e60248201526d125b9d985b1a5908185b5bdd5b9d60921b6044820152606490fd5b1561099b57565b60405162461bcd60e51b815260206004820152600c60248201526b24b73b30b634b2103ab9b2b960a11b6044820152606490fd5b6060810190811067ffffffffffffffff8211176109eb57604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176109eb57604052565b9081602091031261088b5751801515810361088b5790565b15610a4257565b60405162461bcd60e51b815260206004820152600f60248201526e151c985b9cd9995c8819985a5b1959608a1b6044820152606490fd5b919082018092116108e457565b15610a8d57565b60405162461bcd60e51b81526020600482015260086024820152674e6f742076616d6d60c01b6044820152606490fdfea2646970667358221220435438dcd71615985e6ac6ccfc7853363f3cbf3e8fb2d6862bccae91eab63ff864736f6c63430008140033",
  "deployedBytecode": "0x6080604081815260048036101561001557600080fd5b600092833560e01c9081622bc164146107f2575080632703ee85146107ba578063350c35e9146106305780635d773174146105a6578063649c07631461056a5780637569f4c81461049e5780638da5cb5b146104765780639101e5b314610391578063a5d5db0c14610298578063b2016bd41461026f578063c1c7c9dd14610249578063c90ba3a614610201578063cb62568014610178578063e098372c1461014b5763f2fde38b146100c757600080fd5b34610147576020366003190112610147576100e0610875565b835491906001600160a01b03906100fa3383861614610890565b169283156101145750506001600160a01b03191617815580f35b906020606492519162461bcd60e51b8352820152600d60248201526c24b73b30b634b21037bbb732b960991b6044820152fd5b8280fd5b50503461017457816003193601126101745760015490516001600160a01b039091168152602090f35b5080fd5b5050346101745780600319360112610174577f22d38deb33ee15dd233167fc440609397a226eb4e1b61e1773bdd09ef99424aa60206101b5610875565b600154602435916001600160a01b03916101d29083163314610a86565b16936101df851515610994565b848652600383526002818720016101f78382546108c8565b905551908152a280f35b505034610174576020366003190112610174576020916102429082906001600160a01b0361022d610875565b168152600385522060028154910154906108c8565b9051908152f35b5050346101745760203660031901126101745760209061024261026a610875565b610907565b50503461017457816003193601126101745760025490516001600160a01b039091168152602090f35b50346101475781600319360112610147576102b1610875565b91836020602435936102c4851515610957565b6001600160a01b03958616956064906102de881515610994565b6002541691855194859384926323b872dd60e01b845233908401523060248401528860448401525af190811561038757916103457fd7243f6f8212d5188fd054141cf6ea89cfc0d91facb8c3afe2f88a13584801429492602094889161035a575b50610a3b565b848652600383528086206101f7838254610a79565b61037a9150853d8111610380575b6103728183610a01565b810190610a23565b3861033f565b503d610368565b82513d87823e3d90fd5b5090346101475780600319360112610147576103ab610875565b60015460243592916001600160a01b03916103c99083163314610a86565b6103d4841515610957565b16926103e1841515610994565b838552600360205282600183872001541061043457507f5e63d54af10545f0b2bd229512f244caefe863ad94dbbb7ad827432c84d762f591602091848652600383526001818720016101f78382546108fa565b6020606492519162461bcd60e51b8352820152601c60248201527f496e73756666696369656e74207265736572766564206d617267696e000000006044820152fd5b505034610174578160031936011261017457905490516001600160a01b039091168152602090f35b50346101475781600319360112610147576104b7610875565b9160243591826104ef60018060a01b036104d681600154163314610a86565b6104e1831515610957565b86169561026a871515610994565b1061053257507f7a9b1b90f35f094ffc6d04d86069c79e82c6a16eb600f79672428a409635deca91602091848652600383526001818720016101f7838254610a79565b6020606492519162461bcd60e51b8352820152601360248201527224b739bab33334b1b4b2b73a1036b0b933b4b760691b6044820152fd5b5050346101745760203660031901126101745760209160019082906001600160a01b03610595610875565b168152600385522001549051908152f35b5034610147576020366003190112610147576105c0610875565b83546001600160a01b0391906105d99083163314610890565b169182156105fe5750506bffffffffffffffffffffffff60a01b600154161760015580f35b906020606492519162461bcd60e51b8352820152600c60248201526b496e76616c69642076616d6d60a01b6044820152fd5b5034610147578160031936011261014757610649610875565b602435610657811515610957565b6001600160a01b03828116939061066f851515610994565b848752602093600385528387892054106107775761068d8491610907565b10610734578460448592828a5260038452888a206106ac8782546108fa565b90556002541693898951958694859363a9059cbb60e01b85528401528760248401525af190811561072a577fc30fcfbcaac9e0deffa719714eaa82396ff506a0d0d0eebe170830177288715d94959161070b9188916107135750610a3b565b51908152a280f35b61037a9150853d8711610380576103728183610a01565b85513d88823e3d90fd5b855162461bcd60e51b8152808301859052601d60248201527f496e73756666696369656e7420617661696c61626c65206d617267696e0000006044820152606490fd5b865162461bcd60e51b8152808401869052601760248201527f496e73756666696369656e7420636f6c6c61746572616c0000000000000000006044820152606490fd5b5050346101745760203660031901126101745760209181906001600160a01b036107e2610875565b1681526003845220549051908152f35b915050346101475760203660031901126101475782829160609483610815610875565b9261081f816109cf565b828152826020820152015260018060a01b03168152600360205220908051610846816109cf565b825492838252826002600183015492602085019384520154920191825282519384525160208401525190820152f35b600435906001600160a01b038216820361088b57565b600080fd5b1561089757565b60405162461bcd60e51b81526020600482015260096024820152682737ba1037bbb732b960b91b6044820152606490fd5b919091600083820193841291129080158216911516176108e457565b634e487b7160e01b600052601160045260246000fd5b919082039182116108e457565b6001600160a01b031660009081526003602052604090208054600282015461092e916108c8565b9060008213156109505760010154808211156109505761094d916108fa565b90565b5050600090565b1561095e57565b60405162461bcd60e51b815260206004820152600e60248201526d125b9d985b1a5908185b5bdd5b9d60921b6044820152606490fd5b1561099b57565b60405162461bcd60e51b815260206004820152600c60248201526b24b73b30b634b2103ab9b2b960a11b6044820152606490fd5b6060810190811067ffffffffffffffff8211176109eb57604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff8211176109eb57604052565b9081602091031261088b5751801515810361088b5790565b15610a4257565b60405162461bcd60e51b815260206004820152600f60248201526e151c985b9cd9995c8819985a5b1959608a1b6044820152606490fd5b919082018092116108e457565b15610a8d57565b60405162461bcd60e51b81526020600482015260086024820152674e6f742076616d6d60c01b6044820152606490fdfea2646970667358221220435438dcd71615985e6ac6ccfc7853363f3cbf3e8fb2d6862bccae91eab63ff864736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
